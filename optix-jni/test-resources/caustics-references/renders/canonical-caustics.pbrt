# Canonical Caustics Test Scene for Menger Project
# Matches arc42 Section 10 quality requirements
#
# Parameters:
#   Sphere: center (0,0,0), radius 1.0, IOR 1.5
#   Floor: Y = -2.0 (horizontal)
#   Light: direction (0,-1,0) from above
#   Camera: position (0, 1, 4) looking at origin
#
# Expected: Circular caustic centered at (0, -2, 0) with radius ~0.3

Film "rgb"
    "string filename" "canonical-caustics.exr"
    "integer xresolution" 800
    "integer yresolution" 600

Scale -1 1 1
LookAt 0 1 4      # Camera position (0, 1, 4)
       0 0 0      # Look at origin
       0 1 0      # Up vector

Camera "perspective"
    "float fov" 45

Sampler "pmj02bn"
    "integer pixelsamples" 256

# Use SPPM for caustics (Progressive Photon Mapping)
Integrator "sppm"
    "integer maxdepth" 32
    "integer photonsperiteration" 100000

WorldBegin

# Point light from directly above
LightSource "point"
    "point3 from" [ 0 10 0 ]
    "rgb I" [ 500 500 500 ]

# Glass sphere at origin
# IOR 1.5 (standard glass)
AttributeBegin
    Material "dielectric"
        "float eta" 1.5
    Translate 0 0 0
    Shape "sphere"
        "float radius" 1.0
AttributeEnd

# Floor plane at Y = -2
AttributeBegin
    Material "diffuse"
        "rgb reflectance" [ 0.8 0.8 0.8 ]
    Translate 0 -2 0
    Shape "trianglemesh"
        "integer indices" [ 0 1 2 0 2 3 ]
        "point3 P" [ -10 0 -10
                      10 0 -10
                      10 0  10
                     -10 0  10 ]
AttributeEnd

WorldEnd
